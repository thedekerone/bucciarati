{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Query, graphql } from 'react-apollo';\nimport { Router } from '../../routes';\nimport gql from 'graphql-tag';\nconst GET_USER = gql`\n\t{\n\t\tgetUsers {\n\t\t\t_id\n\t\t\tusername\n\t\t\tpassword\n\t\t}\n\t}\n`;\nlet message = 'wrong username or password';\n\nconst LoginPortal = ({\n  show,\n  client,\n  setShow\n}) => {\n  const {\n    0: count,\n    1: setCount\n  } = useState(0);\n  let username, password;\n\n  const handleLogin = async () => {\n    localStorage.setItem('usuario', username.value);\n    localStorage.setItem('password', password.value);\n    await client.resetStore();\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await handleLogin();\n    await client.query({\n      query: GET_USER\n    }).then(result => {\n      console.log(result);\n\n      if (result.data.getUsers) {\n        setShow(false);\n        setCount(0);\n      } else {\n        setCount(3);\n      }\n\n      return 'console.log(result);';\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'portal'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'login-container'\n  }, __jsx(\"div\", {\n    onClick: () => {\n      setShow(false);\n    },\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'exit'\n  }, \"X\"), __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"Login\"), __jsx(\"form\", {\n    action: \"POST\",\n    onSubmit: e => {\n      handleSubmit(e);\n    },\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"username:\"), __jsx(\"input\", {\n    type: \"text\",\n    ref: input => {\n      username = input;\n    },\n    placeholder: \"username\",\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }), __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"password:\"), __jsx(\"input\", {\n    type: \"password\",\n    ref: input => {\n      password = input;\n    },\n    placeholder: \"password\",\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'btn'\n  })), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"581568485\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'message'\n  }, message))), __jsx(_JSXStyle, {\n    id: \"581568485\",\n    dynamic: [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']\n  }, [\"h1.__jsx-style-dynamic-selector{color:#db415d;text-transform:uppercase;}\", \".exit.__jsx-style-dynamic-selector{position:absolute;right:5px;top:5px;font-size:1.5rem;}\", \"input.__jsx-style-dynamic-selector{padding:.5em;border-radius:20px;border:0;margin:.8em .4em;}\", \".btn.__jsx-style-dynamic-selector{border-radius:5px;margin:0 auto;margin-top:3em;background:#db415d;color:white;text-transform:uppercase;font-weight:bold;width:100%;}\", `.message.__jsx-style-dynamic-selector{color:red;font-size:0.6rem;display:${count < 1 ? 'none' : 'inline'};}`, `.portal.__jsx-style-dynamic-selector{height:100vh;left:0;top:0;width:100vw;position:fixed;z-index:100000000;background:rgba(0,0,0,0.4);display:${show ? 'block' : 'none'};}`, \".login-container.__jsx-style-dynamic-selector{background:white;border-radius:20px;width:300px;margin:10% auto;padding:30px;position:relative;height:300px;}\"]));\n};\n\nexport default LoginPortal;","map":null,"metadata":{},"sourceType":"module"}