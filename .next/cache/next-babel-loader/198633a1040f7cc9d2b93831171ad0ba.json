{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Query, graphql } from 'react-apollo';\nimport { Router } from '../../routes';\nimport gql from 'graphql-tag';\nconst GET_USER = gql`\n\t{\n\t\tgetUsers {\n\t\t\t_id\n\t\t\tusername\n\t\t\tpassword\n\t\t}\n\t}\n`;\nlet message = 'wrong username or password';\n\nconst RegisterPortal = ({\n  show,\n  client,\n  setShow\n}) => {\n  const {\n    0: count,\n    1: setCount\n  } = useState(0);\n  let username, password, email;\n\n  const handleLogin = async () => {\n    localStorage.setItem('usuario', username.value);\n    localStorage.setItem('password', password.value);\n    await client.resetStore();\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await handleLogin();\n    await client.query({\n      query: GET_USER\n    }).then(result => {\n      if (result.data.getUsers) {\n        setShow(false);\n        setCount(0);\n      } else {\n        setCount(3);\n      }\n\n      return null;\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'portal'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'login-container'\n  }, __jsx(\"div\", {\n    onClick: () => {\n      setShow(false);\n    },\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'exit'\n  }, __jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 26 26\",\n    width: \"18\",\n    height: \"18\",\n    fill: \"#000000\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, __jsx(\"path\", {\n    d: \"M 3 0 L 3 5 C 3.003906 5.527344 3.21875 6.035156 3.59375 6.40625 L 10.1875 13 L 3.59375 19.59375 C 3.21875 19.964844 3.003906 20.472656 3 21 L 3 26 L 7 26 L 7 21.8125 L 13 15.8125 L 19 21.8125 L 19 26 L 23 26 L 23 21 C 22.996094 20.472656 22.78125 19.964844 22.40625 19.59375 L 15.8125 13 L 22.40625 6.40625 C 22.78125 6.035156 22.996094 5.527344 23 5 L 23 0 L 19 0 L 19 4.1875 L 13 10.1875 L 7 4.1875 L 7 0 Z\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }))), __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"Register\"), __jsx(\"form\", {\n    action: \"POST\",\n    onSubmit: e => {\n      handleSubmit(e);\n    },\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'login-form'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'username'\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"username:\"), __jsx(\"input\", {\n    type: \"text\",\n    ref: input => {\n      username = input;\n    },\n    placeholder: \"username\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'password'\n  }, __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"password:\"), __jsx(\"input\", {\n    type: \"password\",\n    ref: input => {\n      password = input;\n    },\n    placeholder: \"password\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'email'\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  }, \"Correo:\"), __jsx(\"input\", {\n    type: \"text\",\n    ref: input => {\n      email = input;\n    },\n    placeholder: \"email@mail.com\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]])\n  })), __jsx(\"input\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'btn'\n  })), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1806242855\", [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']]]) + \" \" + 'message'\n  }, message))), __jsx(_JSXStyle, {\n    id: \"1806242855\",\n    dynamic: [count < 1 ? 'none' : 'inline', show ? 'block' : 'none']\n  }, [\"h1.__jsx-style-dynamic-selector{color:black;font-size:1.5em;text-transform:uppercase;}\", \".exit.__jsx-style-dynamic-selector{position:absolute;right:5px;top:5px;font-size:1.5rem;}\", \"input.__jsx-style-dynamic-selector{padding:.5em;border:0;margin:.8em .4em;}\", \".btn.__jsx-style-dynamic-selector{border-radius:5px;margin:0 auto;margin-top:3em;background:#db415d;color:white;text-transform:uppercase;font-weight:bold;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;}\", `.message.__jsx-style-dynamic-selector{color:red;font-size:0.6rem;display:${count < 1 ? 'none' : 'inline'};}`, \".email.__jsx-style-dynamic-selector{margin:0 auto;}\", `.portal.__jsx-style-dynamic-selector{height:100vh;left:0;top:0;width:100vw;position:fixed;z-index:100000000;background:rgba(0,0,0,0.4);display:${show ? 'block' : 'none'};}`, \".login-form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\", \".login-container.__jsx-style-dynamic-selector{background:white;margin:10% auto;padding:30px;position:relative;max-width:400px;}\", \".exit.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector:hover{cursor:pointer;fill:red;}\", \"@media (min-width:660px){.login-form.__jsx-style-dynamic-selector{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}\"]));\n};\n\nexport default RegisterPortal;","map":null,"metadata":{},"sourceType":"module"}