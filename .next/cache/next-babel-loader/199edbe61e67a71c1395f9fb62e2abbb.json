{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mauricio\\\\Documents\\\\proyectos\\\\bucciarati-master\\\\bucciarati-master\\\\component\\\\views\\\\LoginPortal.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Query, graphql } from \"react-apollo\";\nimport { Router } from \"../../routes\";\nimport gql from \"graphql-tag\";\nconst GET_USER = gql`\n  {\n    getUsers {\n      _id\n      username\n      password\n    }\n  }\n`;\nlet message = \"wrong username or password\";\n\nconst LoginPortal = ({\n  show,\n  client,\n  setShow,\n  users,\n  loading\n}) => {\n  const {\n    0: count,\n    1: setCount\n  } = useState(0);\n  let username, password;\n\n  const handleLogin = async (client, username, password, users) => {\n    localStorage.setItem(\"usuario\", username.value);\n    localStorage.setItem(\"password\", password.value);\n    client.resetStore();\n  };\n\n  const handleSubmit = (e, data) => {\n    try {\n      e.preventDefault();\n      data.getUsers ? null : setCount(count + 1);\n      setTimeout(() => {\n        setShow(true);\n      }, 500);\n      client.resetStore();\n      handleLogin(client, username, password, users).then(() => {\n        console.log(data);\n      });\n    } catch (err) {\n      Router.pushRoutes(\"/\");\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"return (\", __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"portal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"login-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Logueate\"), __jsx(\"form\", {\n    action: \"post\",\n    onSubmit: e => {\n      handleSubmit(e, data);\n    },\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"username:\"), __jsx(\"input\", {\n    type: \"text\",\n    ref: input => {\n      username = input;\n    },\n    placeholder: \"username\",\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"password:\"), __jsx(\"input\", {\n    type: \"password\",\n    ref: input => {\n      password = input;\n    },\n    placeholder: \"password\",\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"2884721002\", [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, message))), __jsx(_JSXStyle, {\n    id: \"2884721002\",\n    dynamic: [count < 2 ? \"none\" : \"inline\", show ? \"block\" : \"none\"],\n    __self: this\n  }, `.message.__jsx-style-dynamic-selector{color:red;font-size:0.6rem;display:${count < 2 ? \"none\" : \"inline\"};}.portal.__jsx-style-dynamic-selector{height:100vh;left:0;top:0;width:100vw;position:fixed;z-index:100000000;background:rgba(0,0,0,0.4);display:${show ? \"block\" : \"none\"};}.login-container.__jsx-style-dynamic-selector{background:white;width:300px;margin:10% auto;padding:30px;height:300px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWF1cmljaW9cXERvY3VtZW50c1xccHJveWVjdG9zXFxidWNjaWFyYXRpLW1hc3RlclxcYnVjY2lhcmF0aS1tYXN0ZXJcXGNvbXBvbmVudFxcdmlld3NcXExvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZFUyxBQUd1QixBQUtHLEFBV0ksVUFmQSxHQU1WLElBVUssR0FUTixNQUNNLENBUHlCLEVBZ0JyQixTQVJELE9BU0YsUUFSSyxLQVVMLE1BbEJmLE9BU2dDLEFBVWhDLDJCQVR1QyxxQ0FDdkMiLCJmaWxlIjoiQzpcXFVzZXJzXFxNYXVyaWNpb1xcRG9jdW1lbnRzXFxwcm95ZWN0b3NcXGJ1Y2NpYXJhdGktbWFzdGVyXFxidWNjaWFyYXRpLW1hc3RlclxcY29tcG9uZW50XFx2aWV3c1xcTG9naW5Qb3J0YWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgUXVlcnksIGdyYXBocWwgfSBmcm9tIFwicmVhY3QtYXBvbGxvXCI7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gXCIuLi8uLi9yb3V0ZXNcIjtcclxuXHJcbmltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCI7XHJcbmNvbnN0IEdFVF9VU0VSID0gZ3FsYFxyXG4gIHtcclxuICAgIGdldFVzZXJzIHtcclxuICAgICAgX2lkXHJcbiAgICAgIHVzZXJuYW1lXHJcbiAgICAgIHBhc3N3b3JkXHJcbiAgICB9XHJcbiAgfVxyXG5gO1xyXG5sZXQgbWVzc2FnZSA9IFwid3JvbmcgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIjtcclxuY29uc3QgTG9naW5Qb3J0YWwgPSAoeyBzaG93LCBjbGllbnQsIHNldFNob3csIHVzZXJzLCBsb2FkaW5nIH0pID0+IHtcclxuICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICBsZXQgdXNlcm5hbWUsIHBhc3N3b3JkO1xyXG5cclxuICBjb25zdCBoYW5kbGVMb2dpbiA9IGFzeW5jIChjbGllbnQsIHVzZXJuYW1lLCBwYXNzd29yZCwgdXNlcnMpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXN1YXJpb1wiLCB1c2VybmFtZS52YWx1ZSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBhc3N3b3JkXCIsIHBhc3N3b3JkLnZhbHVlKTtcclxuICAgIGNsaWVudC5yZXNldFN0b3JlKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGUsIGRhdGEpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZGF0YS5nZXRVc2VycyA/IG51bGwgOiBzZXRDb3VudChjb3VudCArIDEpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZXRTaG93KHRydWUpO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgICBjbGllbnQucmVzZXRTdG9yZSgpO1xyXG5cclxuICAgICAgaGFuZGxlTG9naW4oY2xpZW50LCB1c2VybmFtZSwgcGFzc3dvcmQsIHVzZXJzKS50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgUm91dGVyLnB1c2hSb3V0ZXMoXCIvXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9ydGFsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxoMT5Mb2d1ZWF0ZTwvaDE+XHJcbiAgICAgICAgICA8Zm9ybVxyXG4gICAgICAgICAgICBhY3Rpb249XCJwb3N0XCJcclxuICAgICAgICAgICAgb25TdWJtaXQ9e2UgPT4ge1xyXG4gICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdChlLCBkYXRhKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ1c2VybmFtZVwiPnVzZXJuYW1lOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICByZWY9e2lucHV0ID0+IHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInVzZXJuYW1lXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwYXNzd29yZFwiPnBhc3N3b3JkOjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZCA9IGlucHV0O1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cclxuICAgICAgICAgIDwvZm9ybT5cclxuXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlXCI+e21lc3NhZ2V9PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgLm1lc3NhZ2Uge1xyXG4gICAgICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDAuNnJlbTtcclxuICAgICAgICAgICAgZGlzcGxheTogJHtjb3VudCA8IDIgPyBcIm5vbmVcIiA6IFwiaW5saW5lXCJ9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnBvcnRhbCB7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7XHJcblxyXG4gICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDB2dztcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB6LWluZGV4OiAxMDAwMDAwMDA7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC40KTtcclxuICAgICAgICAgICAgZGlzcGxheTogJHtzaG93ID8gXCJibG9ja1wiIDogXCJub25lXCJ9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmxvZ2luLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogMzAwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMTAlIGF1dG87XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7XHJcblxyXG4gICAgICAgICAgICBoZWlnaHQ6IDMwMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9naW5Qb3J0YWw7XHJcbiJdfQ== */\n/*@ sourceURL=C:\\Users\\Mauricio\\Documents\\proyectos\\bucciarati-master\\bucciarati-master\\component\\views\\LoginPortal.js */`));\n};\n\nexport default LoginPortal;","map":{"version":3,"sources":["C:\\Users\\Mauricio\\Documents\\proyectos\\bucciarati-master\\bucciarati-master\\component\\views\\LoginPortal.js"],"names":["React","useState","Query","graphql","Router","gql","GET_USER","message","LoginPortal","show","client","setShow","users","loading","count","setCount","username","password","handleLogin","localStorage","setItem","value","resetStore","handleSubmit","e","data","preventDefault","getUsers","setTimeout","then","console","log","err","pushRoutes","input"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Query, graphql } from \"react-apollo\";\r\nimport { Router } from \"../../routes\";\r\n\r\nimport gql from \"graphql-tag\";\r\nconst GET_USER = gql`\r\n  {\r\n    getUsers {\r\n      _id\r\n      username\r\n      password\r\n    }\r\n  }\r\n`;\r\nlet message = \"wrong username or password\";\r\nconst LoginPortal = ({ show, client, setShow, users, loading }) => {\r\n  const [count, setCount] = useState(0);\r\n\r\n  let username, password;\r\n\r\n  const handleLogin = async (client, username, password, users) => {\r\n    localStorage.setItem(\"usuario\", username.value);\r\n    localStorage.setItem(\"password\", password.value);\r\n    client.resetStore();\r\n  };\r\n\r\n  const handleSubmit = (e, data) => {\r\n    try {\r\n      e.preventDefault();\r\n      data.getUsers ? null : setCount(count + 1);\r\n      setTimeout(() => {\r\n        setShow(true);\r\n      }, 500);\r\n      client.resetStore();\r\n\r\n      handleLogin(client, username, password, users).then(() => {\r\n        console.log(data);\r\n      });\r\n    } catch (err) {\r\n      Router.pushRoutes(\"/\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      return (\r\n      <div className=\"portal\">\r\n        <div className=\"login-container\">\r\n          <h1>Logueate</h1>\r\n          <form\r\n            action=\"post\"\r\n            onSubmit={e => {\r\n              handleSubmit(e, data);\r\n            }}\r\n          >\r\n            <label htmlFor=\"username\">username:</label>\r\n            <input\r\n              type=\"text\"\r\n              ref={input => {\r\n                username = input;\r\n              }}\r\n              placeholder=\"username\"\r\n            />\r\n            <label htmlFor=\"password\">password:</label>\r\n            <input\r\n              type=\"password\"\r\n              ref={input => {\r\n                password = input;\r\n              }}\r\n              placeholder=\"password\"\r\n            />\r\n            <input type=\"submit\" />\r\n          </form>\r\n\r\n          <p className=\"message\">{message}</p>\r\n        </div>\r\n      </div>\r\n      <style jsx>\r\n        {`\r\n          .message {\r\n            color: red;\r\n            font-size: 0.6rem;\r\n            display: ${count < 2 ? \"none\" : \"inline\"};\r\n          }\r\n          .portal {\r\n            height: 100vh;\r\n\r\n            left: 0;\r\n            top: 0;\r\n            width: 100vw;\r\n            position: fixed;\r\n            z-index: 100000000;\r\n            background: rgba(0, 0, 0, 0.4);\r\n            display: ${show ? \"block\" : \"none\"};\r\n          }\r\n          .login-container {\r\n            background: white;\r\n            width: 300px;\r\n            margin: 10% auto;\r\n            padding: 30px;\r\n\r\n            height: 300px;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPortal;\r\n"]},"metadata":{},"sourceType":"module"}