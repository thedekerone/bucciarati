{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// lib/withApollo.js\nimport withApollo from 'next-with-apollo';\n// import ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport ApolloClient from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\n// // https://chupetinps.herokuapp.com\n\nvar link = createHttpLink({\n  uri: 'https://bucciaratiserver-production.up.railway.app',\n  useGETForQueries: true\n});\nvar authLink = setContext(function (_, _ref) {\n  var headers = _ref.headers;\n  // get the authentication token from local storage if it exists\n  var user = localStorage.usuario;\n  var pass = localStorage.password;\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: _objectSpread(_objectSpread({}, headers), {}, {\n      usuario: user ? user : null,\n      password: pass ? pass : null\n    })\n  };\n});\nexport default _c2 = withApollo(_c = function _c(_ref2) {\n  var ctx = _ref2.ctx,\n    headers = _ref2.headers,\n    initialState = _ref2.initialState;\n  return new ApolloClient({\n    link: authLink.concat(link),\n    cache: new InMemoryCache().restore(initialState || {})\n  });\n}, {\n  getDataFromTree: 'never'\n});\nvar _c, _c2;\n$RefreshReg$(_c, \"%default%$withApollo\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["withApollo","ApolloClient","InMemoryCache","createHttpLink","setContext","link","uri","useGETForQueries","authLink","_","_ref","headers","user","localStorage","usuario","pass","password","_objectSpread","_c2","_c","_ref2","ctx","initialState","concat","cache","restore","getDataFromTree","$RefreshReg$"],"sources":["/home/dekker/Documents/projects/github/bucciarati/lib/withApollo.js"],"sourcesContent":["// lib/withApollo.js\nimport withApollo from 'next-with-apollo'\n// import ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport ApolloClient from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { createHttpLink } from 'apollo-link-http'\nimport { setContext } from 'apollo-link-context'\n// // https://chupetinps.herokuapp.com\n\nconst link = createHttpLink({\n    uri: 'https://bucciaratiserver-production.up.railway.app',\n  useGETForQueries: true\n})\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const user = localStorage.usuario\n  const pass = localStorage.password\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      usuario: user ? user : null,\n      password: pass ? pass : null\n    }\n  }\n})\nexport default withApollo(\n  ({ ctx, headers, initialState }) =>\n    new ApolloClient({\n      link: authLink.concat(link),\n\n      cache: new InMemoryCache().restore(initialState || {})\n    }),\n  {\n    getDataFromTree: 'never'\n  }\n)\n"],"mappings":";;;AAAA;AACA,OAAOA,UAAU,MAAM,kBAAkB;AACzC;AACA,OAAOC,YAAY,MAAM,eAAe;AACxC,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,UAAU,QAAQ,qBAAqB;AAChD;;AAEA,IAAMC,IAAI,GAAGF,cAAc,CAAC;EACxBG,GAAG,EAAE,oDAAoD;EAC3DC,gBAAgB,EAAE;AACpB,CAAC,CAAC;AACF,IAAMC,QAAQ,GAAGJ,UAAU,CAAC,UAACK,CAAC,EAAAC,IAAA,EAAkB;EAAA,IAAdC,OAAO,GAAAD,IAAA,CAAPC,OAAO;EACvC;EACA,IAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO;EACjC,IAAMC,IAAI,GAAGF,YAAY,CAACG,QAAQ;EAClC;EACA,OAAO;IACLL,OAAO,EAAAM,aAAA,CAAAA,aAAA,KACFN,OAAO;MACVG,OAAO,EAAEF,IAAI,GAAGA,IAAI,GAAG,IAAI;MAC3BI,QAAQ,EAAED,IAAI,GAAGA,IAAI,GAAG;IAAI;EAEhC,CAAC;AACH,CAAC,CAAC;AACF,eAAAG,GAAA,GAAelB,UAAU,CAAAmB,EAAA,GACvB,SAAAA,GAAAC,KAAA;EAAA,IAAGC,GAAG,GAAAD,KAAA,CAAHC,GAAG;IAAEV,OAAO,GAAAS,KAAA,CAAPT,OAAO;IAAEW,YAAY,GAAAF,KAAA,CAAZE,YAAY;EAAA,OAC3B,IAAIrB,YAAY,CAAC;IACfI,IAAI,EAAEG,QAAQ,CAACe,MAAM,CAAClB,IAAI,CAAC;IAE3BmB,KAAK,EAAE,IAAItB,aAAa,CAAC,CAAC,CAACuB,OAAO,CAACH,YAAY,IAAI,CAAC,CAAC;EACvD,CAAC,CAAC;AAAA,GACJ;EACEI,eAAe,EAAE;AACnB,CACF,CAAC;AAAA,IAAAP,EAAA,EAAAD,GAAA;AAAAS,YAAA,CAAAR,EAAA;AAAAQ,YAAA,CAAAT,GAAA"},"metadata":{},"sourceType":"module"}