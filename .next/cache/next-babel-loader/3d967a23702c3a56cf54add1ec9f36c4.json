{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mauricio\\\\Documents\\\\proyectos\\\\bucciarati-master\\\\bucciarati-master\\\\component\\\\views\\\\LoginPortal.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  {\\n    getUsers {\\n      _id\\n      username\\n      password\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { Query, graphql } from \"react-apollo\";\nimport { Router } from \"../../routes\";\nimport gql from \"graphql-tag\";\nvar GET_USER = gql(_templateObject());\nvar message = \"wrong username or password\";\n\nvar LoginPortal = function LoginPortal(_ref) {\n  var show = _ref.show,\n      client = _ref.client,\n      setShow = _ref.setShow,\n      users = _ref.users,\n      loading = _ref.loading,\n      handleLogin = _ref.handleLogin;\n\n  var _useState = useState(0),\n      count = _useState[0],\n      setCount = _useState[1];\n\n  var username, password;\n\n  var handleSubmit = function handleSubmit(e, data) {\n    try {\n      e.preventDefault();\n      setCount(count + 1);\n      setShow(false);\n      handleLogin(client, username, password, users).then(function () {\n        client.resetStore();\n        setTimeout(function () {\n          console.log(data);\n        }, 2000);\n      });\n    } catch (err) {\n      Router.pushRoutes(\"/\");\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(Query, {\n    query: GET_USER,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, function (_ref2) {\n    var client = _ref2.client,\n        loading = _ref2.loading,\n        error = _ref2.error,\n        data = _ref2.data;\n    if (loading) return __jsx(\"h3\", {\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"login\");\n    if (error) return __jsx(Error, {\n      code: \"502\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n    !data.getUsers ? setShow(true) : null;\n    return __jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"portal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Logueate\"), __jsx(\"form\", {\n      action: \"post\",\n      onSubmit: function onSubmit(e) {\n        handleSubmit(e, data);\n      },\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      htmlFor: \"username\",\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"username:\"), __jsx(\"input\", {\n      type: \"text\",\n      ref: function ref(input) {\n        username = input;\n      },\n      placeholder: \"username\",\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), __jsx(\"label\", {\n      htmlFor: \"password\",\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"password:\"), __jsx(\"input\", {\n      type: \"password\",\n      ref: function ref(input) {\n        password = input;\n      },\n      placeholder: \"password\",\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      type: \"submit\",\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), __jsx(\"p\", {\n      className: _JSXStyle.dynamic([[\"1247757613\", [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"]]]) + \" \" + \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, message)));\n  }), __jsx(_JSXStyle, {\n    id: \"1247757613\",\n    dynamic: [count < 1 ? \"none\" : \"inline\", show ? \"block\" : \"none\"],\n    __self: this\n  }, \".message.__jsx-style-dynamic-selector{color:red;font-size:0.6rem;display:\".concat(count < 1 ? \"none\" : \"inline\", \";}.portal.__jsx-style-dynamic-selector{height:100vh;left:0;top:0;width:100vw;position:fixed;z-index:100000000;background:rgba(0,0,0,0.4);display:\").concat(show ? \"block\" : \"none\", \";}.login-container.__jsx-style-dynamic-selector{background:white;width:300px;margin:10% auto;padding:30px;height:300px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWF1cmljaW9cXERvY3VtZW50c1xccHJveWVjdG9zXFxidWNjaWFyYXRpLW1hc3RlclxcYnVjY2lhcmF0aS1tYXN0ZXJcXGNvbXBvbmVudFxcdmlld3NcXExvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVGUyxBQUd1QixBQUtHLEFBV0ksVUFmQSxHQU1WLElBVUssR0FUTixNQUNNLENBUHlCLEVBZ0JyQixTQVJELE9BU0YsUUFSSyxLQVVMLE1BbEJmLE9BU2dDLEFBVWhDLDJCQVR1QyxxQ0FDdkMiLCJmaWxlIjoiQzpcXFVzZXJzXFxNYXVyaWNpb1xcRG9jdW1lbnRzXFxwcm95ZWN0b3NcXGJ1Y2NpYXJhdGktbWFzdGVyXFxidWNjaWFyYXRpLW1hc3RlclxcY29tcG9uZW50XFx2aWV3c1xcTG9naW5Qb3J0YWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgUXVlcnksIGdyYXBocWwgfSBmcm9tIFwicmVhY3QtYXBvbGxvXCI7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gXCIuLi8uLi9yb3V0ZXNcIjtcclxuXHJcbmltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCI7XHJcbmNvbnN0IEdFVF9VU0VSID0gZ3FsYFxyXG4gIHtcclxuICAgIGdldFVzZXJzIHtcclxuICAgICAgX2lkXHJcbiAgICAgIHVzZXJuYW1lXHJcbiAgICAgIHBhc3N3b3JkXHJcbiAgICB9XHJcbiAgfVxyXG5gO1xyXG5sZXQgbWVzc2FnZSA9IFwid3JvbmcgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIjtcclxuY29uc3QgTG9naW5Qb3J0YWwgPSAoe1xyXG4gIHNob3csXHJcbiAgY2xpZW50LFxyXG4gIHNldFNob3csXHJcbiAgdXNlcnMsXHJcbiAgbG9hZGluZyxcclxuICBoYW5kbGVMb2dpblxyXG59KSA9PiB7XHJcbiAgY29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgbGV0IHVzZXJuYW1lLCBwYXNzd29yZDtcclxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZSwgZGF0YSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZXRDb3VudChjb3VudCArIDEpO1xyXG4gICAgICBzZXRTaG93KGZhbHNlKTtcclxuXHJcbiAgICAgIGhhbmRsZUxvZ2luKGNsaWVudCwgdXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VycykudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2xpZW50LnJlc2V0U3RvcmUoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBSb3V0ZXIucHVzaFJvdXRlcyhcIi9cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPFF1ZXJ5IHF1ZXJ5PXtHRVRfVVNFUn0+XHJcbiAgICAgICAgeyh7IGNsaWVudCwgbG9hZGluZywgZXJyb3IsIGRhdGEgfSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGxvYWRpbmcpIHJldHVybiA8aDM+bG9naW48L2gzPjtcclxuICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIDxFcnJvciBjb2RlPVwiNTAyXCIgLz47XHJcbiAgICAgICAgICAhZGF0YS5nZXRVc2VycyA/IHNldFNob3codHJ1ZSkgOiBudWxsO1xyXG5cclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9ydGFsXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dpbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxoMT5Mb2d1ZWF0ZTwvaDE+XHJcbiAgICAgICAgICAgICAgICA8Zm9ybVxyXG4gICAgICAgICAgICAgICAgICBhY3Rpb249XCJwb3N0XCJcclxuICAgICAgICAgICAgICAgICAgb25TdWJtaXQ9e2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdChlLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ1c2VybmFtZVwiPnVzZXJuYW1lOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICByZWY9e2lucHV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInVzZXJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwYXNzd29yZFwiPnBhc3N3b3JkOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCA9IGlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlXCI+e21lc3NhZ2V9PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPC9RdWVyeT5cclxuXHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5tZXNzYWdlIHtcclxuICAgICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAwLjZyZW07XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICR7Y291bnQgPCAxID8gXCJub25lXCIgOiBcImlubGluZVwifTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5wb3J0YWwge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG5cclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwdnc7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgei1pbmRleDogMTAwMDAwMDAwO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICR7c2hvdyA/IFwiYmxvY2tcIiA6IFwibm9uZVwifTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5sb2dpbi1jb250YWluZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDEwJSBhdXRvO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAzMHB4O1xyXG5cclxuICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luUG9ydGFsO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\Users\\\\Mauricio\\\\Documents\\\\proyectos\\\\bucciarati-master\\\\bucciarati-master\\\\component\\\\views\\\\LoginPortal.js */\")));\n};\n\nexport default LoginPortal;","map":{"version":3,"sources":["C:\\Users\\Mauricio\\Documents\\proyectos\\bucciarati-master\\bucciarati-master\\component\\views\\LoginPortal.js"],"names":["React","useState","Query","graphql","Router","gql","GET_USER","message","LoginPortal","show","client","setShow","users","loading","handleLogin","count","setCount","username","password","handleSubmit","e","data","preventDefault","then","resetStore","setTimeout","console","log","err","pushRoutes","error","getUsers","input"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Query, graphql } from \"react-apollo\";\r\nimport { Router } from \"../../routes\";\r\n\r\nimport gql from \"graphql-tag\";\r\nconst GET_USER = gql`\r\n  {\r\n    getUsers {\r\n      _id\r\n      username\r\n      password\r\n    }\r\n  }\r\n`;\r\nlet message = \"wrong username or password\";\r\nconst LoginPortal = ({\r\n  show,\r\n  client,\r\n  setShow,\r\n  users,\r\n  loading,\r\n  handleLogin\r\n}) => {\r\n  const [count, setCount] = useState(0);\r\n\r\n  let username, password;\r\n  const handleSubmit = (e, data) => {\r\n    try {\r\n      e.preventDefault();\r\n      setCount(count + 1);\r\n      setShow(false);\r\n\r\n      handleLogin(client, username, password, users).then(() => {\r\n        client.resetStore();\r\n        setTimeout(() => {\r\n          console.log(data);\r\n        }, 2000);\r\n      });\r\n    } catch (err) {\r\n      Router.pushRoutes(\"/\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Query query={GET_USER}>\r\n        {({ client, loading, error, data }) => {\r\n          if (loading) return <h3>login</h3>;\r\n          if (error) return <Error code=\"502\" />;\r\n          !data.getUsers ? setShow(true) : null;\r\n\r\n          return (\r\n            <div className=\"portal\">\r\n              <div className=\"login-container\">\r\n                <h1>Logueate</h1>\r\n                <form\r\n                  action=\"post\"\r\n                  onSubmit={e => {\r\n                    handleSubmit(e, data);\r\n                  }}\r\n                >\r\n                  <label htmlFor=\"username\">username:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref={input => {\r\n                      username = input;\r\n                    }}\r\n                    placeholder=\"username\"\r\n                  />\r\n                  <label htmlFor=\"password\">password:</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    ref={input => {\r\n                      password = input;\r\n                    }}\r\n                    placeholder=\"password\"\r\n                  />\r\n                  <input type=\"submit\" />\r\n                </form>\r\n\r\n                <p className=\"message\">{message}</p>\r\n              </div>\r\n            </div>\r\n          );\r\n        }}\r\n      </Query>\r\n\r\n      <style jsx>\r\n        {`\r\n          .message {\r\n            color: red;\r\n            font-size: 0.6rem;\r\n            display: ${count < 1 ? \"none\" : \"inline\"};\r\n          }\r\n          .portal {\r\n            height: 100vh;\r\n\r\n            left: 0;\r\n            top: 0;\r\n            width: 100vw;\r\n            position: fixed;\r\n            z-index: 100000000;\r\n            background: rgba(0, 0, 0, 0.4);\r\n            display: ${show ? \"block\" : \"none\"};\r\n          }\r\n          .login-container {\r\n            background: white;\r\n            width: 300px;\r\n            margin: 10% auto;\r\n            padding: 30px;\r\n\r\n            height: 300px;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPortal;\r\n"]},"metadata":{},"sourceType":"module"}