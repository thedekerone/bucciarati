{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n// lib/withApollo.js\nimport withApollo from 'next-with-apollo'; // import ApolloClient, { InMemoryCache } from 'apollo-boost';\n\nimport ApolloClient from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nconst link = createHttpLink({\n  uri: 'https://chupetinps.herokuapp.com',\n  useGETForQueries: true\n});\nconst authLink = setContext((_, {\n  headers\n}) => {\n  // get the authentication token from local storage if it exists\n  const user = localStorage.usuario;\n  const pass = localStorage.password; // return the headers to the context so httpLink can read them\n\n  return {\n    headers: _objectSpread({}, headers, {\n      usuario: user ? user : null,\n      password: pass ? pass : null\n    })\n  };\n});\nexport default withApollo(({\n  ctx,\n  headers,\n  initialState\n}) => new ApolloClient({\n  link: authLink.concat(link),\n  // link,\n  // fetchOptions : {\n  // \tuseGETForQueries : true\n  // },\n  // uri          : 'https://chupetinps.herokuapp.com',\n  // // https://chupetinps.herokuapp.com\n  cache: new InMemoryCache().restore(initialState || {})\n}), {\n  getDataFromTree: 'never'\n});","map":{"version":3,"sources":["/home/dekker/Documents/proyectos/bucciarati/lib/withApollo.js"],"names":["withApollo","ApolloClient","InMemoryCache","createHttpLink","setContext","link","uri","useGETForQueries","authLink","_","headers","user","localStorage","usuario","pass","password","ctx","initialState","concat","cache","restore","getDataFromTree"],"mappings":";AAAA;AACA,OAAOA,UAAP,MAAuB,kBAAvB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,MAAMC,IAAI,GAAGF,cAAc,CAAC;AAC3BG,EAAAA,GAAG,EAAgB,kCADQ;AAE3BC,EAAAA,gBAAgB,EAAG;AAFQ,CAAD,CAA3B;AAIA,MAAMC,QAAQ,GAAGJ,UAAU,CAAC,CAACK,CAAD,EAAI;AAAEC,EAAAA;AAAF,CAAJ,KAAoB;AAC/C;AACA,QAAMC,IAAI,GAAGC,YAAY,CAACC,OAA1B;AACA,QAAMC,IAAI,GAAGF,YAAY,CAACG,QAA1B,CAH+C,CAI/C;;AACA,SAAO;AACNL,IAAAA,OAAO,oBACHA,OADG;AAENG,MAAAA,OAAO,EAAIF,IAAI,GAAGA,IAAH,GAAU,IAFnB;AAGNI,MAAAA,QAAQ,EAAGD,IAAI,GAAGA,IAAH,GAAU;AAHnB;AADD,GAAP;AAOA,CAZ0B,CAA3B;AAaA,eAAed,UAAU,CACxB,CAAC;AAAEgB,EAAAA,GAAF;AAAON,EAAAA,OAAP;AAAgBO,EAAAA;AAAhB,CAAD,KACC,IAAIhB,YAAJ,CAAiB;AAChBI,EAAAA,IAAI,EAAIG,QAAQ,CAACU,MAAT,CAAgBb,IAAhB,CADQ;AAEhB;AACA;AACA;AACA;AACA;AACA;AACAc,EAAAA,KAAK,EAAG,IAAIjB,aAAJ,GAAoBkB,OAApB,CAA4BH,YAAY,IAAI,EAA5C;AARQ,CAAjB,CAFuB,EAYxB;AACCI,EAAAA,eAAe,EAAG;AADnB,CAZwB,CAAzB","sourcesContent":["// lib/withApollo.js\nimport withApollo from 'next-with-apollo';\n// import ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport ApolloClient from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nconst link = createHttpLink({\n\turi              : 'https://chupetinps.herokuapp.com',\n\tuseGETForQueries : true\n});\nconst authLink = setContext((_, { headers }) => {\n\t// get the authentication token from local storage if it exists\n\tconst user = localStorage.usuario;\n\tconst pass = localStorage.password;\n\t// return the headers to the context so httpLink can read them\n\treturn {\n\t\theaders : {\n\t\t\t...headers,\n\t\t\tusuario  : user ? user : null,\n\t\t\tpassword : pass ? pass : null\n\t\t}\n\t};\n});\nexport default withApollo(\n\t({ ctx, headers, initialState }) =>\n\t\tnew ApolloClient({\n\t\t\tlink  : authLink.concat(link),\n\t\t\t// link,\n\t\t\t// fetchOptions : {\n\t\t\t// \tuseGETForQueries : true\n\t\t\t// },\n\t\t\t// uri          : 'https://chupetinps.herokuapp.com',\n\t\t\t// // https://chupetinps.herokuapp.com\n\t\t\tcache : new InMemoryCache().restore(initialState || {})\n\t\t}),\n\t{\n\t\tgetDataFromTree : 'never'\n\t}\n);\n"]},"metadata":{},"sourceType":"module"}