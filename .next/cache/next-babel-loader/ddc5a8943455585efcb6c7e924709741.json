{"ast":null,"code":"var _jsxFileName = \"/home/dekker/Documents/projects/github/bucciarati/pages/single.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport ProductView from \"../component/productViews/ProductView\";\nimport Productos from \"../component/productViews/Productos\";\nimport { Query, graphql } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Layout from \"../component/Layout\";\nimport Spinner from \"../component/views/Spinner\";\nimport Error from \"../component/views/Error\";\nconst GETTER = gql`\n  query Product($PR: ID!) {\n    getProduct(id: $PR) {\n      _id\n      title\n      image\n      price\n      discount\n      tags\n    }\n  }\n`;\nclass single extends React.Component {\n  static async getInitialProps({\n    query\n  }) {\n    return {\n      id: query.slug\n    };\n  }\n  render() {\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, __jsx(Query, {\n      query: GETTER,\n      variables: {\n        PR: this.props.id\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }\n    }, ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return __jsx(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 33\n        }\n      });\n      if (error) return __jsx(Error, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 31\n        }\n      });\n      if (!data.getProduct) return __jsx(Error, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 42\n        }\n      });\n      return __jsx(\"div\", {\n        className: \"jsx-612413578\" + \" \" + \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }\n      }, __jsx(ProductView, {\n        data: data.getProduct,\n        wrap: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }), __jsx(\"div\", {\n        className: \"jsx-612413578\" + \" \" + \"tiendas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, __jsx(\"h2\", {\n        className: \"jsx-612413578\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }\n      }, \"Tambi\\xE9n podr\\xEDa gustarte: \"), __jsx(Query, {\n        query: gql`\n                      query search($filter: String) {\n                        searchProducts(filter: $filter) {\n                          title\n                          _id\n                          image\n                          price\n                          tags\n                          discount\n                        }\n                      }\n                    `,\n        variables: {\n          filter: data.getProduct.tags[0]\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 19\n        }\n      }, ({\n        loading,\n        error,\n        data\n      }) => {\n        if (loading) return __jsx(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 43\n          }\n        });\n        if (error) return __jsx(Error, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 41\n          }\n        });\n        return __jsx(Productos, {\n          data: data.searchProducts,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 30\n          }\n        });\n      })));\n    }), __jsx(_JSXStyle, {\n      id: \"612413578\",\n      __self: this\n    }, \"@import url(\\\"https://fonts.googleapis.com/css?family=Montserrat:300,400,700&display=swap\\\");.container.jsx-612413578{max-width:1150px;width:100%;padding:0;overflow:hidden;margin:2rem auto 4rem;}.loading.jsx-612413578{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;padding:0;width:100vw;height:90vh;margin-top:-90px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}h2.jsx-612413578{font-size:1rem;font-weight:400;margin-bottom:1.5em;text-transform:uppercase;}@media (min-width:660px){.container.jsx-612413578{padding-top:30px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Rla2tlci9Eb2N1bWVudHMvcHJvamVjdHMvZ2l0aHViL2J1Y2NpYXJhdGkvcGFnZXMvc2luZ2xlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStEb0IsQUFFcUcsQUFFdkUsQUFPSixBQVVFLEFBT0ksZUFOSCxFQWpCTCxBQXdCWCxXQXZCVSxHQWlCVSxPQWhCSixhQWlCUyxHQWhCSCxvQkFJSixFQUhwQixBQWdCQSxnQkFaWSxVQUNFLFlBQ0EsWUFDSyxpQkFDTSxtR0FDSiw2RkFDckIiLCJmaWxlIjoiL2hvbWUvZGVra2VyL0RvY3VtZW50cy9wcm9qZWN0cy9naXRodWIvYnVjY2lhcmF0aS9wYWdlcy9zaW5nbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvZHVjdFZpZXcgZnJvbSBcIi4uL2NvbXBvbmVudC9wcm9kdWN0Vmlld3MvUHJvZHVjdFZpZXdcIjtcbmltcG9ydCBQcm9kdWN0b3MgZnJvbSBcIi4uL2NvbXBvbmVudC9wcm9kdWN0Vmlld3MvUHJvZHVjdG9zXCI7XG5pbXBvcnQgeyBRdWVyeSwgZ3JhcGhxbCB9IGZyb20gXCJyZWFjdC1hcG9sbG9cIjtcbmltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCI7XG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnQvTGF5b3V0XCI7XG5pbXBvcnQgU3Bpbm5lciBmcm9tIFwiLi4vY29tcG9uZW50L3ZpZXdzL1NwaW5uZXJcIjtcbmltcG9ydCBFcnJvciBmcm9tIFwiLi4vY29tcG9uZW50L3ZpZXdzL0Vycm9yXCI7XG5jb25zdCBHRVRURVIgPSBncWxgXG4gIHF1ZXJ5IFByb2R1Y3QoJFBSOiBJRCEpIHtcbiAgICBnZXRQcm9kdWN0KGlkOiAkUFIpIHtcbiAgICAgIF9pZFxuICAgICAgdGl0bGVcbiAgICAgIGltYWdlXG4gICAgICBwcmljZVxuICAgICAgZGlzY291bnRcbiAgICAgIHRhZ3NcbiAgICB9XG4gIH1cbmA7XG5jbGFzcyBzaW5nbGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnkgfSkge1xuICAgIHJldHVybiB7IGlkOiBxdWVyeS5zbHVnIH07XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8UXVlcnkgcXVlcnk9e0dFVFRFUn0gdmFyaWFibGVzPXt7IFBSOiB0aGlzLnByb3BzLmlkIH19PlxuICAgICAgICAgIHsoeyBsb2FkaW5nLCBlcnJvciwgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAobG9hZGluZykgcmV0dXJuIDxTcGlubmVyIC8+O1xuICAgICAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gPEVycm9yIC8+O1xuICAgICAgICAgICAgaWYgKCFkYXRhLmdldFByb2R1Y3QpIHJldHVybiA8RXJyb3IgLz47XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxQcm9kdWN0VmlldyBkYXRhPXtkYXRhLmdldFByb2R1Y3R9IHdyYXA9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aWVuZGFzXCI+XG4gICAgICAgICAgICAgICAgICA8aDI+VGFtYmnDqW4gcG9kcsOtYSBndXN0YXJ0ZTogPC9oMj5cbiAgICAgICAgICAgICAgICAgIDxRdWVyeVxuICAgICAgICAgICAgICAgICAgICBxdWVyeT17Z3FsYFxuICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5IHNlYXJjaCgkZmlsdGVyOiBTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFByb2R1Y3RzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzPXt7IGZpbHRlcjogZGF0YS5nZXRQcm9kdWN0LnRhZ3NbMF0gfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyh7IGxvYWRpbmcsIGVycm9yLCBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobG9hZGluZykgcmV0dXJuIDxTcGlubmVyIC8+O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikgcmV0dXJuIDxFcnJvciAvPjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFByb2R1Y3RvcyBkYXRhPXtkYXRhLnNlYXJjaFByb2R1Y3RzfSAvPjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIDwvUXVlcnk+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1F1ZXJ5PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgQGltcG9ydCB1cmwoXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9TW9udHNlcnJhdDozMDAsNDAwLDcwMCZkaXNwbGF5PXN3YXBcIik7XG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDExNTBweDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICBtYXJnaW46IDJyZW0gYXV0byA0cmVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICAubG9hZGluZyB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDB2dztcbiAgICAgICAgICAgIGhlaWdodDogOTB2aDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IC05MHB4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoMiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS41ZW07XG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjYwcHgpIHtcbiAgICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMzBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHNpbmdsZTtcbiJdfQ== */\\n/*@ sourceURL=/home/dekker/Documents/projects/github/bucciarati/pages/single.js */\"));\n  }\n}\nexport default single;","map":{"version":3,"names":["React","ProductView","Productos","Query","graphql","gql","Layout","Spinner","Error","GETTER","single","Component","getInitialProps","query","id","slug","render","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","variables","PR","props","loading","error","data","getProduct","className","wrap","filter","tags","searchProducts","_JSXStyle"],"sources":["/home/dekker/Documents/projects/github/bucciarati/pages/single.js"],"sourcesContent":["import React from \"react\";\nimport ProductView from \"../component/productViews/ProductView\";\nimport Productos from \"../component/productViews/Productos\";\nimport { Query, graphql } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Layout from \"../component/Layout\";\nimport Spinner from \"../component/views/Spinner\";\nimport Error from \"../component/views/Error\";\nconst GETTER = gql`\n  query Product($PR: ID!) {\n    getProduct(id: $PR) {\n      _id\n      title\n      image\n      price\n      discount\n      tags\n    }\n  }\n`;\nclass single extends React.Component {\n  static async getInitialProps({ query }) {\n    return { id: query.slug };\n  }\n  render() {\n    return (\n      <Layout>\n        <Query query={GETTER} variables={{ PR: this.props.id }}>\n          {({ loading, error, data }) => {\n            if (loading) return <Spinner />;\n            if (error) return <Error />;\n            if (!data.getProduct) return <Error />;\n            return (\n              <div className=\"container\">\n                <ProductView data={data.getProduct} wrap={true} />\n                <div className=\"tiendas\">\n                  <h2>También podría gustarte: </h2>\n                  <Query\n                    query={gql`\n                      query search($filter: String) {\n                        searchProducts(filter: $filter) {\n                          title\n                          _id\n                          image\n                          price\n                          tags\n                          discount\n                        }\n                      }\n                    `}\n                    variables={{ filter: data.getProduct.tags[0] }}\n                  >\n                    {({ loading, error, data }) => {\n                      if (loading) return <Spinner />;\n                      if (error) return <Error />;\n                      return <Productos data={data.searchProducts} />;\n                    }}\n                  </Query>\n                </div>\n              </div>\n            );\n          }}\n        </Query>\n        <style jsx>{`\n          @import url(\"https://fonts.googleapis.com/css?family=Montserrat:300,400,700&display=swap\");\n          .container {\n            max-width: 1150px;\n            width: 100%;\n            padding: 0;\n            overflow: hidden;\n            margin: 2rem auto 4rem;\n          }\n          .loading {\n            display: flex;\n            position: absolute;\n            padding: 0;\n            width: 100vw;\n            height: 90vh;\n            margin-top: -90px;\n            justify-content: center;\n            align-items: center;\n          }\n          h2 {\n            font-size: 1rem;\n            font-weight: 400;\n            margin-bottom: 1.5em;\n            text-transform: uppercase;\n          }\n          @media (min-width: 660px) {\n            .container {\n              padding-top: 30px;\n            }\n          }\n        `}</style>\n      </Layout>\n    );\n  }\n}\nexport default single;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}