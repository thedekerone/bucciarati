{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.3b8bc474916e341c1230.hot-update.js","sources":["webpack:///./lib/withApollo.js","webpack:///./node_modules/apollo-link-context/lib/bundle.esm.js"],"sourcesContent":["// lib/withApollo.js\r\nimport withApollo from 'next-with-apollo';\r\n// import ApolloClient, { InMemoryCache } from 'apollo-boost';\r\nimport ApolloClient from 'apollo-client';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { setContext } from 'apollo-link-context';\r\n\r\nimport { createHttpLink } from 'apollo-link-http';\r\n\r\nconst link = createHttpLink({\r\n\turi : 'https://chupetinps.herokuapp.com'\r\n});\r\nconst authLink = setContext((_, { headers }) => {\r\n\t// get the authentication token from local storage if it exists\r\n\tconst user = localStorage.usuario;\r\n\tconst pass = localStorage.password;\r\n\t// return the headers to the context so httpLink can read them\r\n\treturn {\r\n\t\theaders : {\r\n\t\t\tusuario  : user ? user : null,\r\n\t\t\tpassword : pass ? pass : null\r\n\t\t}\r\n\t};\r\n});\r\nexport default withApollo(\r\n\t({ ctx, headers, initialState }) =>\r\n\t\tnew ApolloClient({\r\n\t\t\tlink  : authLink.concat(link),\r\n\t\t\t// link,\r\n\t\t\t// fetchOptions : {\r\n\t\t\t// \tuseGETForQueries : true\r\n\t\t\t// },\r\n\t\t\t// uri          : 'https://chupetinps.herokuapp.com',\r\n\t\t\t// // https://chupetinps.herokuapp.com\r\n\r\n\t\t\tcache : new InMemoryCache().restore(initialState || {})\r\n\t\t}),\r\n\t{\r\n\t\tgetDataFromTree : 'never'\r\n\t}\r\n);\r\n","import { __rest } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction setContext(setter) {\n    return new ApolloLink(function (operation, forward) {\n        var request = __rest(operation, []);\n        return new Observable(function (observer) {\n            var handle;\n            Promise.resolve(request)\n                .then(function (req) { return setter(req, operation.getContext()); })\n                .then(operation.setContext)\n                .then(function () {\n                handle = forward(operation).subscribe({\n                    next: observer.next.bind(observer),\n                    error: observer.error.bind(observer),\n                    complete: observer.complete.bind(observer),\n                });\n            })\n                .catch(observer.error.bind(observer));\n            return function () {\n                if (handle)\n                    handle.unsubscribe();\n            };\n        });\n    });\n}\n\nexport { setContext };\n//# sourceMappingURL=bundle.esm.js.map\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AADA;AAaA;AADA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}