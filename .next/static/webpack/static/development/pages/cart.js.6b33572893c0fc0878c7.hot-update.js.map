{"version":3,"file":"static/webpack/static\\development\\pages\\cart.js.6b33572893c0fc0878c7.hot-update.js","sources":["webpack:///./pages/cart.js"],"sourcesContent":["import React from 'react';\r\n\r\nimport 'isomorphic-fetch';\r\nimport gql from 'graphql-tag';\r\nimport { Query } from 'react-apollo';\r\nimport ProductosInCart from '../component/productViews/ProductosInCart';\r\nimport Layout from '../component/Layout';\r\nimport Error from '../component/views/Error';\r\nimport Spinner from '../component/views/Spinner';\r\nimport { Router } from '../routes';\r\nimport Boleta from '../component/views/Boleta';\r\n\r\nconst GET_USER = gql`\r\n\t{\r\n\t\tgetUsers {\r\n\t\t\t_id\r\n\t\t\tusername\r\n\t\t\tquantities {\r\n\t\t\t\tproduct {\r\n\t\t\t\t\ttitle\r\n\t\t\t\t\timage\r\n\t\t\t\t\t_id\r\n\t\t\t\t\tdiscount\r\n\t\t\t\t\tprice\r\n\t\t\t\t}\r\n\t\t\t\tquantity\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nlet pricesDiscount = 10;\r\n\r\nclass Cart extends React.Component {\r\n\tgetDiscount(price, discount) {\r\n\t\tconst newPrice = (100 - discount) * price / 100;\r\n\t\treturn newPrice;\r\n\t}\r\n\tpricesTosum(array) {\r\n\t\treturn array.reduce((a, b) => a + b).toFixed(2);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className='main'>\r\n\t\t\t\t\t<h2>Carrito de compras </h2>\r\n\r\n\t\t\t\t\t<Query query={GET_USER}>\r\n\t\t\t\t\t\t{({ client, loading, error, data }) => {\r\n\t\t\t\t\t\t\tif (loading) return <Spinner />;\r\n\t\t\t\t\t\t\tif (error) return Router.pushRoute('/');\r\n\t\t\t\t\t\t\tconsole.log(data.getUsers.quantities.length === 0);\r\n\t\t\t\t\t\t\tif (data.getUsers.quantities.length === 0)\r\n\t\t\t\t\t\t\t\treturn <h3>Aun no has agregado algun producto</h3>;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t\t\t\t<div className='container-products'>\r\n\t\t\t\t\t\t\t\t\t\t<ProductosInCart\r\n\t\t\t\t\t\t\t\t\t\t\tdata={data.getUsers.quantities}\r\n\t\t\t\t\t\t\t\t\t\t\tclient={client}\r\n\t\t\t\t\t\t\t\t\t\t\tuser={data.getUsers}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Boleta\r\n\t\t\t\t\t\t\t\t\t\tdata={data.getUsers.quantities}\r\n\t\t\t\t\t\t\t\t\t\tpricesTosum={this.pricesTosum(\r\n\t\t\t\t\t\t\t\t\t\t\tdata.getUsers.quantities.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(e) => parseFloat(e.product.price) * e.quantity\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tpricesDiscount={this.pricesTosum(\r\n\t\t\t\t\t\t\t\t\t\t\tdata.getUsers.quantities.map((e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.getDiscount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparseFloat(e.product.price) * e.quantity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.product.discount\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Query>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<style jsx>\r\n\t\t\t\t\t{`\r\n\t\t\t\t\t\t.main {\r\n\t\t\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\t\t\tmax-width: 1200px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.container {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.container-products {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.btn {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\tpadding: 0.6rem;\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\t\tbackground: #e84855;\r\n\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\tz-index: 19;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.btn:hover {\r\n\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\th2 {\r\n\t\t\t\t\t\t\tcolor: black;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t@media (min-width: 660px) {\r\n\t\t\t\t\t\t\t.cart-boleta {\r\n\t\t\t\t\t\t\t\tmargin-left: 70px;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.container {\r\n\t\t\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`}\r\n\t\t\t\t</style>\r\n\t\t\t</Layout>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Cart;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAmBA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAEA;AAAA;AAGA;AACA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAtCA;AAAA;AAAA;AAsFA;;;;AAjGA;AACA;AAkGA;;;;A","sourceRoot":""}