{"version":3,"file":"static/webpack/static\\development\\pages\\cart.js.d53e4105df8814885d51.hot-update.js","sources":["webpack:///./component/productViews/ProductView.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from '../../routes'\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { Query, graphql } from 'react-apollo'\r\nimport Spinner from '../views/Spinner'\r\nimport Error from '../views/Error'\r\n\r\nexport default function Product(props) {\r\n  const ADD_PRODUCT = gql`\r\n    mutation addProduct($product: ID!, $user: ID!) {\r\n      addProductToBag(productID: $product, userID: $user) {\r\n        username\r\n      }\r\n    }\r\n  `\r\n\r\n  //mutation to add product to the sh\r\n  const [addProduct] = useMutation(ADD_PRODUCT)\r\n  const addToCart = (user, client) => {\r\n    user._id\r\n      ? addProduct({\r\n          variables: {\r\n            product: props.data._id,\r\n            user: user._id\r\n          }\r\n        }).then(() => {\r\n          client.resetStore()\r\n        })\r\n      : console.log(user)\r\n  }\r\n\r\n  //web share api\r\n  const compartir = (e, name) => {\r\n    e.preventDefault()\r\n    if (!navigator.share) {\r\n      alert(\"Browser doesn't support this feature\")\r\n      return\r\n    }\r\n    navigator\r\n      .share({\r\n        title: name,\r\n        text: 'Buciarati Store',\r\n        url: document.location.href,\r\n        icon: '/static/mainView/polo.jpg'\r\n      })\r\n      .then(() => alert('contenido compartido'))\r\n      .catch(err => null)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Query\r\n        query={gql`\r\n          query {\r\n            getUsers {\r\n              _id\r\n            }\r\n          }\r\n        `}\r\n      >\r\n        {({ client, loading, error, data }) => {\r\n          if (loading) return <Spinner />\r\n          if (error) return <Error />\r\n          return (\r\n            <div className='product'>\r\n              <div className='product__img'>\r\n                <img src={props.data.image} width='100%' alt='' />\r\n              </div>\r\n              <div className='product__description'>\r\n                <div className='product-main'>\r\n                  {props.data.discount > 30 ? (\r\n                    <div className='product-banner'>\r\n                      <span>OFERTA EXCLUSIVA</span>\r\n                    </div>\r\n                  ) : null}\r\n                  <div className='product-title'>\r\n                    <h3>{props.data.title}</h3>\r\n                    <img\r\n                      onClick={e => {\r\n                        compartir(e, props.data.title)\r\n                      }}\r\n                      width='20px'\r\n                      src='../../static/icons/icons8-share-24.png'\r\n                      alt='share'\r\n                    />\r\n                  </div>\r\n                  <div className='product-discount'>\r\n                    <span className='product-discount__price'>\r\n                      {props.data.price}\r\n                    </span>\r\n                    <span className='product-discount__percentage'>\r\n                      -{props.data.discount}%\r\n                    </span>\r\n                  </div>\r\n                  <div className='product-price'>\r\n                    <span>\r\n                      {Math.round(\r\n                        ((100 - props.data.discount) * props.data.price) / 100\r\n                      )}\r\n                      .00$\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* info */}\r\n                <div className='product-information'>\r\n                  {props.wrap ? (\r\n                    <div className='product-information__text'>\r\n                      <p>\r\n                        <b>Descripción:</b> ipsum dolor sit amet, consetetur\r\n                        sadipscing elitr, sed diam nonumy eirmod tempor invidunt\r\n                        ut labore et dolore magna aliquyam erat, sed diam\r\n                        voluptua. At vero\r\n                      </p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className='product-information__delivery'>\r\n                    <img\r\n                      src='/static/icons/icons8-truck-50.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n                    <span>Envío internacional</span>\r\n                  </div>\r\n                  <div className='product-information__reviews'>\r\n                    <img\r\n                      src='/static/icons/icons8-star-filled-48.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n                    <img\r\n                      src='/static/icons/icons8-star-filled-48.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n                    <img\r\n                      src='/static/icons/icons8-star-filled-48.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n                    <img\r\n                      src='/static/icons/icons8-star-filled-48.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n                    <img\r\n                      src='/static/icons/icons8-star-filled-48.png'\r\n                      width='20px'\r\n                      alt=''\r\n                    />\r\n\r\n                    <span className='product-information__reviews--number'>\r\n                      {Math.round(Math.random() * 100)} reviews\r\n                    </span>\r\n                  </div>\r\n                  <div className='buttons'>\r\n                    <div\r\n                      onClick={() => addToCart(data.getUsers, client)}\r\n                      className='btn cart'\r\n                    >\r\n                      ADD TO CART\r\n                    </div>\r\n\r\n                    <Link\r\n                      route='single'\r\n                      params={{ slug: props.data._id }}\r\n                      key={props.data._id}\r\n                    >\r\n                      <div className='btn buy'>VER PRODUCTO</div>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        }}\r\n      </Query>\r\n      <style jsx>\r\n        {`\r\n          .product {\r\n            display: grid;\r\n            background: white;\r\n            max-width: ${props.wrap ? '1000px' : '600px'};\r\n            width: 100%;\r\n            margin: 0 auto;\r\n            font-size: 11px;\r\n            height: 100%;\r\n            box-sizing: border-box;\r\n            padding: 1em;\r\n            grid-template: ${props.wrap\r\n              ? 'auto auto / 1fr'\r\n              : 'auto / 1fr 1fr 1fr'};\r\n          }\r\n          .product__img {\r\n            grid-row: 1/2;\r\n            padding: ${props.wrap ? '0' : '.9em'};\r\n            box-sizing: border-box;\r\n          }\r\n          .product-title {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n          }\r\n          .product-title h3 {\r\n            margin: 0;\r\n            padding: 0.5em 0 0.7em 0;\r\n          }\r\n          .product__description,\r\n          .product__img {\r\n            background: white;\r\n            width: 100%;\r\n          }\r\n          .product__description {\r\n            padding-left: ${props.wrap ? '.5em' : '1.2em'};\r\n            grid-column: ${props.wrap ? '1/2' : '2/4'};\r\n            grid-row: ${props.wrap ? '2/3' : '1/2'};\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n            box-sizing: border-box;\r\n          }\r\n\r\n          .product-banner span {\r\n            color: white;\r\n            font-size: 0.9em;\r\n            background: rgb(181, 0, 191);\r\n            background: linear-gradient(\r\n              90deg,\r\n              rgba(181, 0, 191, 1) 0%,\r\n              rgba(0, 8, 180, 1) 100%\r\n            );\r\n            padding: 0.3em;\r\n            font-weight: bold;\r\n          }\r\n          .btn {\r\n            margin: 0 0.5em;\r\n          }\r\n          .product-discount {\r\n            margin-bottom: 0.6em;\r\n          }\r\n          .product-discount__price {\r\n            font-size: 0.8em;\r\n            text-decoration: line-through;\r\n          }\r\n          .product-discount__percentage {\r\n            margin-left: 0.8em;\r\n            color: red;\r\n\r\n            font-size: 1em;\r\n          }\r\n          .product-price {\r\n            font-size: 1.2rem;\r\n            font-weight: bold;\r\n            color: black;\r\n          }\r\n\r\n          .product-information__delivery {\r\n            padding: 1.5em 0 0.8em 0;\r\n          }\r\n          .product-information__reviews {\r\n            display: flex;\r\n            align-items: center;\r\n          }\r\n          .product-information__reviews--number {\r\n            color: #ffca28;\r\n            height: 20px;\r\n            display: flex;\r\n            align-items: center;\r\n          }\r\n          .buttons {\r\n            display: flex;\r\n            position: relative;\r\n            width: 100%;\r\n          }\r\n\r\n          .btn:hover {\r\n            cursor: pointer;\r\n          }\r\n          .cart {\r\n            background: #fcba04;\r\n          }\r\n\r\n          @media (min-width: 660px) {\r\n            .product {\r\n              border: ${props.wrap ? ' 0px' : '1px solid #d5d5d5'};\r\n              grid-template: ${props.wrap\r\n                ? '  auto /1fr 1fr 1fr'\r\n                : 'auto/1fr 1fr'};\r\n              font-size: 15px;\r\n              max-width: 900px;\r\n            }\r\n            .buttons {\r\n              flex-direction: ${props.wrap ? ' row' : 'column'};\r\n              box-sizing: border-box;\r\n            }\r\n            .btn {\r\n              margin: ${props.wrap ? 'none' : '.8rem 0 .2rem'};\r\n              box-sizing: border-box;\r\n            }\r\n            .product__description {\r\n              grid-column: 2/4;\r\n              grid-row: 1/2;\r\n              padding-left: ${props.wrap ? '3em' : '1.2em'};\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAUA;AACA;AAEA;AACA;AACA;AAFA;AADA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA9HA;AAAA;AAAA;AAAA;AAoQA;;;;A","sourceRoot":""}